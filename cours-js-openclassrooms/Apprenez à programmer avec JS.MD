

### Utilisez defer pour diff√©rer l‚Äôex√©cution du script

Pour manipuler le DOM, JavaScript doit ainsi construire une variable globale, document, qui est donc accessible depuis n‚Äôimporte o√π dans notre code. Cependant, pour construire cette variable, la page HTML doit √™tre charg√©e en entier. Hors, le script √©tant lanc√© dans la balise head, avant que le body ne s‚Äôaffiche √† l‚Äô√©cran, la page HTML n‚Äôexiste pas encore. Nous devons donc attendre que la page ait fini de charger avant d‚Äôutiliser la variable document.

Pour cela, nous allons utiliser l‚Äôattribut defer sur la balise script. Cet attribut permet de diff√©rer l‚Äôex√©cution du script jusqu‚Äô√† ce que la page soit charg√©e. Ainsi, nous pouvons placer notre script dans le head, et √™tre s√ªr que le DOM sera bien charg√© lorsque le script sera ex√©cut√©.

```html
<script src="scripts/config.js" defer></script>
<script src="scripts/script.js" defer></script>
<script src="scripts/main.js" defer></script>
```

## Cr√©ez un nouvel √©l√©ment dans une page web

### Utilisez la m√©thode CreateElement
CreateElement est une m√©thode fournie par JavaScript, accessible depuis document. Elle permet de cr√©er n‚Äôimporte quelle balise :

```js  
const p = document.createElement("p");
const div = document.createElement("div");
const span = document.createElement("span");
```

### Ins√©rez votre balise dans la page
Une fois l‚Äô√©l√©ment cr√©√©, il n'appara√Æt pas encore dans la page. Pour que cette nouvelle balise apparaisse, nous devons l‚Äôins√©rer dans l‚Äôarbre DOM afin que JavaScript sache exactement √† quel endroit il faudra mettre l‚Äô√©l√©ment. Pour cela, nous devons : 
- d√©terminer quel sera l‚Äô√©l√©ment parent ;
- utiliser appendChild (litt√©ralement en anglais : ‚Äúajouter un enfant‚Äù).

```js
// R√©cup√©rer un √©l√©ment parent existant
let parentElement = document.getElementById("conteneur");

// Ajouter le nouvel √©l√©ment au parent
parentElement.appendChild(nouvelElement);
```


### Utilisez la propri√©t√© innerHTML pour ins√©rer du HTML
Avec la m√©thode createElement, nous cr√©ons un √©l√©ment que nous pouvons modifier et ins√©rer dans le HTML. Mais que se passe-t-il quand nous devons cr√©er et imbriquer de nombreux √©l√©ments ?

Pour cela, nous pouvons utiliser la propri√©t√© innerHTML. Cette propri√©t√© permet d‚Äôins√©rer du HTML dans un √©l√©ment. Ainsi, nous pouvons cr√©er une cha√Æne de caract√®res contenant le HTML que nous souhaitons ins√©rer, puis l‚Äôins√©rer dans un √©l√©ment existant.

```js
// Cr√©er une cha√Æne de caract√®res contenant le HTML
const html = "<p>Je suis un paragraphe</p>";

// R√©cup√©rer un √©l√©ment parent existant
let parentElement = document.getElementById("conteneur");

// Ins√©rer le HTML dans le parent
parentElement.innerHTML = html;
```

```jS
// D√©finition des variables contenant le texte du titre et du paragraphe
let contenuTitre = "Azertype"
let contenuParagraphe = "L'application pour apprendre √† taper plus vite !"

// Cr√©ation d'un div avec createElement. Dans cette div, on va cr√©er un titre h1 et un paragraphe p
let nouvelleDiv = document.createElement("div")
let nouveauTitre = document.createElement("h1")
let nouveauParagraphe = document.createElement("p")

// On ajoute du texte dans le titre et le paragraphe
nouveauTitre.textContent = contenuTitre
nouveauParagraphe.textContent = contenuParagraphe

// On ajoute le titre et le paragraphe dans la div
nouvelleDiv.appendChild(nouveauTitre)
nouvelleDiv.appendChild(nouveauParagraphe)

// On ajoute la div dans le body
let body = document.querySelector("body")
body.appendChild(nouvelleDiv)

```


## Interagissez avec un √©l√©ment d‚Äôune page web gr√¢ce aux √©v√©nements

Un `√©v√©nement` correspond √† une action sp√©cifique, comme par exemple le clic sur un bouton, ou la frappe d‚Äôun clavier. Ainsi, la programmation √©v√©nementielle consiste **√† r√©agir √† ces √©v√©nements et ex√©cuter du code au moment o√π ces √©v√©nement se produisent**.

Pour impl√©menter cela, nous devons d‚Äôabord dire √† JavaScript de les √©couter gr√¢ce √† un eventListener, litt√©ralement un ‚Äú√©couteur d‚Äô√©v√®nement‚Äù, en fran√ßais. Puis, nous devons lier l‚Äô√©v√©nement √† un bloc de code. C‚Äôest parti ! üöÄ

### √âcoutez un √©v√©nement avec addEventListener

Pour √©couter un √©v√©nement, nous allons utiliser la m√©thode addEventListener. Cette m√©thode prend deux param√®tres :
- le nom de l‚Äô√©v√©nement √† √©couter (comme par exemple `click, keydown, keyup`, etc.);
- la fonction √† ex√©cuter lorsque l‚Äô√©v√©nement se produit.
La fonction peut s‚Äô√©crire de deux mani√®res diff√©rentes que nous allons voir :
    - Les fonctions classiques avec le mot-cl√© function ;
    - Les fonctions fl√©ch√©es.

```js
// R√©cup√©rer un √©l√©ment
let element = document.getElementById("element");

// Ajouter un √©couteur d'√©v√©nement
element.addEventListener("click", function() {
    // Code √† ex√©cuter lorsque l'√©v√©nement se produit
});

// Ajouter un √©couteur d'√©v√©nement avec une fonction fl√©ch√©e
element.addEventListener("click", () => {
    // Code √† ex√©cuter lorsque l'√©v√©nement se produit
});
```


```js
// Cr√©ons un bouton dans un fichier HTML :
<button id="monBouton">Cliquez-moi !</button>

// Dans le fichier JavaScript, nous allons r√©cup√©rer ce bouton et ajouter un √©couteur :

// R√©cup√©rer le bouton
let monBouton = document.getElementById("monBouton");

// Ajouter un √©couteur d'√©v√©nement
monBouton.addEventListener("click", function () {
    console.log("Vous avez cliqu√© sur le bouton")
});

// Ajouter un √©couteur d'√©v√©nement avec une fonction fl√©ch√©e
monBouton.addEventListener("click", () => {
    console.log("Vous avez cliqu√© sur le bouton")
});
```


### Pour aller plus loin : r√©cup√©rez les informations sur un √©v√©nement avec la variable ‚Äúevent‚Äù

Lorsque nous ajoutons un √©couteur d‚Äô√©v√©nement, nous pouvons r√©cup√©rer des informations sur l‚Äô√©v√©nement gr√¢ce √† la variable event. Cette variable est automatiquement cr√©√©e par JavaScript et contient des informations sur l‚Äô√©v√©nement qui vient de se produire.

```js
// R√©cup√©rer un √©l√©ment
let element = document.getElementById("element");

// Ajouter un √©couteur d'√©v√©nement
element.addEventListener("click", function(event) {
    // Code √† ex√©cuter lorsque l'√©v√©nement se produit
});

// Ajouter un √©couteur d'√©v√©nement avec une fonction fl√©ch√©e
element.addEventListener("click", (event) => {
    // Code √† ex√©cuter lorsque l'√©v√©nement se produit
});
```

```js
// Cr√©ons un bouton dans un fichier HTML :
<button id="monBouton">Cliquez-moi !</button>

// Dans le fichier JavaScript, nous allons r√©cup√©rer ce bouton et ajouter un √©couteur :

// R√©cup√©rer le bouton
let monBouton = document.getElementById("monBouton");

// Ajouter un √©couteur d'√©v√©nement
monBouton.addEventListener("click", function (event) {
    console.log(event)
});

// Ajouter un √©couteur d'√©v√©nement avec une fonction fl√©ch√©e
monBouton.addEventListener("click", (event) => {
    console.log(event)
});
```
